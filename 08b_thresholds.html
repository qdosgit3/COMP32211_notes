<title>Power: transistor thresholds</title>

<html>
<head>

<style>
table, th, td {
  border: 1px solid black;
}
</style>

<style>
* {
  box-sizing: border-box;
}

/* Create two equal columns that float next to each other */
.column {
  float: left;
  width: 50%;
  padding: 10px;
}

/* Create four equal columns that float next to each other */
.column4 {
  float: left;
  width: 25%;
  padding: 10px;
}

.column80 {
  float: left;
  width: 80%;
  padding: 10px;
}

.column20 {
  float: left;
  width: 20%;
  padding: 10px;
}


/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
</style>

<style>
.inset {
  float: none;
  width: 80%;
  border: 2px outset red;
  background-color: lightgray;
  text-align: center;
}
div.left {text-align:left;}
</style>

<style>
h1 {text-align: center;}
</style>

</head>

<body>

<hr>

<h2>Transistor thresholds</h2>

<div class="row";>

<div class="column80";>

<p>
A CMOS transistor may be regarded as a <b>switch</b>.  (For digital
purposes.)
</p>

<p>
The <b>threshold</b> of a transistor is the gate voltage where it switches
from &lsquo;off&rsquo; to &lsquo;on&rsquo;.
</p>

<div class="column4";>
</div>
<div class="column4";>
<img src="figures/transistors_1.png" alt="pMOS threshold" width=60%>
</div>
<div class="column4";>
<img src="figures/transistors_2.png" alt="nMOS threshold" width=60% align=right>
</div>
<div class="column4";>
</div>

</div>

<div class="column20";>

<img src="figures/transistors_3.png" alt="nMOS threshold displaced"
     width=60% align=left>

</div>

</div>

<ul>
<li> This voltage is measured from the gate to the channel (source or drain)
<br>
&hellip; not always from the supply.

<li> The threshold can be determined when the transistor is manufactured.

<li> Applying different dopant concentrations allows the construction
of different threshold devices &ndash; now have selections on a single
  chip.
</ul>

<p>
Note: the transistor threshold is not the same as the gate threshold!
</p>

<p>
(i.e. where a logic element differentiates a logic
&lsquo;<span style="font-family: 'Courier New', monospace;">0</span>&rsquo; and
&lsquo;<span style="font-family: 'Courier New', monospace;">1</span>&rsquo;.)
</p>

<p>
Different thresholds can be used to control energy flow.
</p>

<p>
Inverter response to a (slow &ndash; for clarity) input edge:
</p>

<center>
<img src="figures/transistor_Vth.png" alt="Threshold infulence on gate
					   speed (& power)" width=75%>
</center>

<p>
With <b>low threshold transistors</b> (left) the nMOS pull-down
(<span style="color:green">green</span>) switches &lsquo;on&rsquo;
earlier so the output edge starts sooner.  The pMOS pull-up
(<span style="color:red">red</span>) switches &lsquo;off&rsquo; later
so there is a significant time when they're both &lsquo;on&rsquo;
allowing &lsquo;short circuit&rsquo; current to flow between the power
rails.  This wastes energy.  <b>Fast but power-hungry.</b>
</p>

<p>
With <b>high threshold transistors</b> (right) the nMOS pull-down
switches &lsquo;on&rsquo; later so the output edge is delayed.  The
pMOS pull-up switches &lsquo;off&rsquo; earlier so there is little (or
possibly no) time when they're both &lsquo;on&rsquo;, minimising
&lsquo;short circuit&rsquo; current.  <b>Low power but slow.</b>
</p>


<center>
<div class="inset">

<h4>&lsquo;Floating&rsquo; inputs</h4>

<p>
CMOS inputs should always be held at a logic level.  If an input is
not connected (&ldquo;floating&rdquo;) it has a (very) high impedance and may
adopt just about any voltage.  If it floats to somewhere between the
logic levels then both the transistor stacks may turn &lsquo;on&rsquo;
(to some degree) and current &lsquo;crowbars&rsquo; between the rails.
This can be a significant power waste.
</p>

<p>
As long as the inputs are defined logic levels this is avoided and
only the much smaller subthreshold leakage flows.
</p>

</div>
</center>

<p>
The threshold of a FET depends on the dopant concentrations in the
channel and &lsquo;diffusion&rsquo; implant regions.  These are set by
how many impurity atoms are embedded in the silicon substrate.  This
is a statistical process as atoms impact the surface.
</p>

<p>
For a given <i>mean</i> doping concentration, as transistor areas
decrease the number of atoms decreases.  This means the difference of
a few atoms more significant overall.
</p>

<p>
The result is that the manufactured <b>threshold voltages vary</b> over an
increasingly wide range as Moore's Law goes forwards.
</p>


<center>
<div class="inset">

<h4><a href="https://semiengineering.com/knowledge_centers/low-power/techniques/substrate-biasing/">Substrate biasing</a></h4>

<p>
Also called &ldquo;back-biasing&rdquo;, this is a mechanism where the
&lsquo;bulk&rsquo; (at least locally) silicon voltage is altered to
move the transistor thresholds.
</p>

<p>
This can be used dynamically to influence the transistors' behaviour;
it can also help counter threshold variations due to manufacturing
variations (see later).
</p>

<p>
There is, of course, an added cost, especially in generating and
distributing extra bias supplies.  It is reported that the benefits
are diminishing with shrinking feature size.
</p>

</div>
</center>

<hr>

<h2>Transistors with different thresholds</h2>

<p>
A silicon foundry may offer a range of transistor thresholds, some
subset of which may be available on a single SoC.  E.g.
</p>

<ul>
<li> High-speed: low threshold, fast switching, leaky transistors
<li> &lsquo;Normal&rsquo;: compromise
<li> Low-power: high threshold, low leakage, slow switching
</ul>

<img src="figures/power_gate.png" alt="Example of power gating" width=25% align="right">

<p>
These may be selected as appropriate in a design.
</p>

<p>
Example: use high-speed gates on the critical path and low-power
gates away from there.
</p>

<p>
Low-leakage devices can also be used to
<span style="font-weight:bold;color:blue">power-gate</span> high-speed
logic.
</p>

<ul>
<li> Power &lsquo;off&rsquo; to curtail leakage when not in use</li>
<li> Power &lsquo;on&rsquo; when required</li>
  <ul>
  <li> switch on necessarily slow
(slow transistor plus time to repower gated supply)</li>
  </ul>
</ul>

<h3>Power gating</h3>

<p>
Power gating involves the creation of a separate, local supply rail
for a gate of, more probably, a block of gates.  This is supplied from
the &lsquo;real&rsquo; supply via a (large) <b>pass transistor</b>.
</p>

<p>
When active the pass transistor conducts and the gate will switch with
(close to) the properties of the logic transistors.  (There will be a
slight penalty due to the additional channel impedance.)
</p>

<p>
When the logic is inactive the power can be cut off (the pass
transistor is high-threshold so its leakage is small) and the
remaining charge will leak to ground, after which leakage is
minimised.  Of course the gated &lsquo;supply&rsquo; will be highly
capacitive (much metal wiring) which means that when it's turned on it
will take a significant time to be restored to operating voltage; thus
power gating needs to be managed over time.
</p>

<p>
This figure shows a pMOS power gate: in practice, if a single transistor
is used, it is more likely to be an nMOS device because it can be
smaller for the same transconductance.  It is even possible to gate
<i>both</i> supply rails to choke leakage even further.<br clear="right">
</p>


<center>
<div class="inset">

<h3>Gate threshold</h3>

<p>
Do not confuse the <i><b>transistor</b></i> threshold with a
logic <i><b>gate</b></i>'s threshold.  The gate threshold is the input
voltage where the whole gate will switch its output's logic state.
This is <i>typically around</i> half the supply voltage: it will vary
according to the gate's internal structure and may be (slightly)
different on different gate inputs due to the position of connected
transistors in the &lsquo;stacks&rsquo;.
</p>

<p>
Variation in <i>gate</i> threshold is a good reason to keep signal
edges fast &ndash; to minimise differences in when they
are <i>perceived</i> to change.
</p>

</div>
</center>

<hr>

<p><a href="08_power.html#index">Up</a> to power index.</p>
<p><a href="08a_dissipation.html">Back</a> to power dissipation.</p>
<p><a href="08c_power_domains.html">Forwards</a> to power domains.</p>

<hr><hr>

</body>
